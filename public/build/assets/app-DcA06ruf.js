document.addEventListener("DOMContentLoaded",()=>{const a="http://127.0.0.1:8000",e=document.querySelector("button#Auth"),s=document.querySelector("input#email"),l=200;e.addEventListener("click",function(){e.disabled=!0,e.innerHTML=`<img id="loading" src='${a+"/assets/images/loading.png"}' alt=''>`;let t=new XMLHttpRequest;t.onload=function(){if(e.disabled=!1,JSON.parse(t.response).length===0){e.innerHTML="ادامه بده",s.classList.remove("invalid");try{document.querySelector(".error-box").style.display="none"}catch{}}else{e.innerHTML="مرحله بعد";let o=JSON.parse(t.response);s.classList.add("invalid");let i="";try{document.querySelector(".error-box").remove()}catch{}i+='<div class="error-box mt-1">',o.email.forEach(function(n){n==="email is required."?n="ایمیل اجباری است.":n==="email must be type email."&&(n="ورودی باید از نوع ایمیل باشد."),i+=`<span class="error text-[#FF5C00] mt-1 block">${n}</span>`}),i+="</div>",s.insertAdjacentHTML("afterend",i)}},t.open("POST",a+"/api/v1/auth"),t.setRequestHeader("Content-type","application/json"),setTimeout(()=>{t.send(JSON.stringify({email:s.value}))},l)})});
